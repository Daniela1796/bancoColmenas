<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Banco Colmenas — Dashboard</title>
    <meta name="description" content="Interfaz de cuenta bancaria de usuario" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="styles\styleDashboard.css" rel="stylesheet" />
  </head>
  <body>
    <header
      class="p-3 custom-header text-white d-flex justify-content-between align-items-center"
      role="banner"
    >
      <a
        href="#"
        class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none"
      >
        <img
          src="img/logo.PNG"
          alt="Logo del Banco Colmenas"
          width="45%"
          class="me-2"
        />
      </a>
      <div class="position-relative">
        <button
          class="accessibility-toggle"
          onclick="toggleAccessibilityModal()"
        >
          <img
            src="img/accesibilidad.png"
            alt="Icono de accesibilidad"
            width="24"
          />
          Accesibilidad
        </button>
        <div id="accessibilityModal" class="accessibility-modal">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h6 class="mb-0">Accesibilidad</h6>
            <div
              role="button"
              class="close-btn"
              aria-label="Cerrar menú de accesibilidad"
              onclick="toggleAccessibilityModal()"
            >
              <span>&times;</span>
            </div>
          </div>
          <button
            class="btn btn-outline-custom w-100 mb-2"
            onclick="toggleHighContrast()"
          >
            Contraste alto
          </button>
          <button
            class="btn btn-outline-custom w-100 mb-2"
            onclick="toggleLowContrast()"
          >
            Contraste bajo
          </button>
          <div class="d-flex gap-2 mb-2">
            <button
              class="btn btn-outline-custom flex-fill"
              onclick="increaseFont()"
            >
              A+
            </button>
            <button
              class="btn btn-outline-custom flex-fill"
              onclick="decreaseFont()"
            >
              A-
            </button>
          </div>
        </div>
      </div>
    </header>

    <nav
      class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm"
    >
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-center"
          id="navbarNav"
        >
          <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" href="#dashboardCliente">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#transacciones">Transacciones</a>
            </li>
          </ul>
        </div>
        <div class="d-flex align-items-center">
          <a
            class="btn btn-accesible btn-sm me-2"
            type="button"
            href="#"
            data-bs-toggle="modal"
            data-bs-target="#notificationsModal"
            aria-label="Notificaciones"
            role="button"
          >
            <img
              src="img\campana.png"
              alt="Notificaciones"
              width="24"
              height="24"
            />
            Notificaciones
          </a>
          <a
            class="btn btn-danger btn-sm"
            role="button"
            href="login.html"
            aria-label="Cerrar Sesión"
          >
            <img
              src="img\cerrar-sesion-alt.png"
              alt="Cerrar Sesión"
              width="24"
              height="24"
            />
            Cerrar sesión
          </a>
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <main class="col-12 px-md-4 py-4">
          <section class="row mb-4" id="dashboardCliente">
            <div class="col-md-6 mb-3 mb-md-0">
              <div class="card shadow-sm h-100">
                <div class="card-body text-center">
                  <h1 class="card-title h4">PERFIL</h1>
                  <img
                    src="img\Bannerperfil.PNG"
                    class="profile-img"
                    alt="Imagen de perfil"
                  />
                  <h2>BIENVENIDO, <span id="nombre-usuario">USUARIO</span></h2>
                  <h2>
                    <strong>Número de cuenta:</strong>
                    <span id="cuenta-usuario">000000</span>
                  </h2>
                  <h2>
                    <strong>Saldo:</strong> <span id="saldo-usuario">0.00</span>
                  </h2>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card shadow-sm h-100">
                <div class="card-header">Resumen financiero</div>
                <div class="card-body">
                  <canvas id="demoChart" width="100%" height="60"></canvas>
                </div>
              </div>
            </div>
          </section>

          <section class="row mb-4" id="transacciones">
            <div class="col-md-6">
              <div class="card shadow-sm h-100">
                <div class="card-header">
                  <h2 class="h5">Transacciones</h2>
                </div>
                <div class="card-body">
                  <form>
                    <div class="mb-3">
                      <label for="transactionType" class="form-label"
                        >Tipo de Transacción</label
                      >
                      <select id="transactionType" class="form-select">
                        <option value="pago">Pago de servicios</option>
                        <option value="transferencia">Transferencias</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="transactionTarget" class="form-label"
                        >Servicio o Cuenta destino</label
                      >
                      <input
                        type="text"
                        id="transactionTarget"
                        class="form-control"
                        placeholder="Nombre del servicio o cuenta"
                      />
                    </div>
                    <div class="mb-3">
                      <label for="transactionAmount" class="form-label"
                        >Monto</label
                      >
                      <input
                        type="number"
                        id="transactionAmount"
                        class="form-control"
                        placeholder="Monto a pagar/transferir"
                      />
                    </div>
                    <button
                      type="submit"
                      id="transaction-submit-btn"
                      class="btn btn-primary"
                    >
                      Realizar Transacción
                    </button>
                  </form>
                </div>
              </div>
            </div>

            <div class="col-md-6" id="invoiceContainer">
              <div class="card shadow-sm h-100">
                <div class="card-header">
                  <h2 class="h5">Recibo de Transacción</h2>
                </div>
                <div class="card-body" id="invoiceBody">
                  <p class="lead">
                    Ingresa los datos para realizar una transacción y ver el
                    recibo aquí.
                  </p>
                  <hr />
                  <div id="invoiceDetails" style="display: none">
                    <h6>Detalles del recibo:</h6>
                    <ul class="list-unstyled">
                      <li>
                        <strong>Tipo:</strong> <span id="invoiceType"></span>
                      </li>
                      <li>
                        <strong>Monto:</strong> <span id="invoiceAmount"></span>
                      </li>
                      <li>
                        <strong>Destino:</strong>
                        <span id="invoiceTarget"></span>
                      </li>
                      <li>
                        <strong>Fecha:</strong> <span id="invoiceDate"></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Botón flotante de chat -->
          <button
            id="chatToggle"
            class="btn btn-custom rounded-circle"
            aria-label="Abrir chat de soporte"
            style="
              position: fixed;
              bottom: 20px;
              right: 20px;
              width: 60px;
              height: 60px;
              z-index: 1100;
            "
          >
            <img
              src="img\agente-de-servicio-al-cliente.png"
              alt="persona chateando"
              width="30"
            />
          </button>

          <!-- Ventana de chat -->
          <div
            id="chatContainer"
            class="card shadow"
            role="dialog"
            aria-labelledby="chatTitle"
            aria-describedby="chatWindow"
            style="
              position: fixed;
              bottom: 90px;
              right: 20px;
              width: 300px;
              display: none;
              z-index: 1100;
            "
          >
            <div
              class="card-header d-flex justify-content-between align-items-center"
            >
              <h6 id="chatTitle" class="mb-0">Soporte en línea</h6>
              <button
                class="btn-close"
                aria-label="Cerrar chat"
                onclick="toggleChat()"
              ></button>
            </div>
            <div
              id="chatWindow"
              class="border rounded p-2"
              style="height: 200px; overflow-y: auto"
              aria-live="polite"
              role="log"
            ></div>
            <div class="input-group p-2">
              <label for="chatInput" class="visually-hidden"
                >Escribe tu mensaje</label
              >
              <input
                type="text"
                id="chatInput"
                class="form-control"
                placeholder="Escribe tu mensaje..."
                aria-label="Mensaje de soporte"
              />
              <button
                id="sendBtn"
                class="btn btn-success"
                aria-label="Enviar mensaje"
              >
                ➤
              </button>
            </div>
          </div>
        </main>
      </div>
    </div>
    <div
      class="modal fade"
      id="notificationsModal"
      tabindex="-1"
      aria-labelledby="notificationsModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="notificationsModalLabel">
              Notificaciones
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <ul class="list-group">
              <li class="list-group-item">
                Tu pago de la factura de luz ha sido procesado correctamente.
              </li>
              <li class="list-group-item">
                Se recibió una transferencia de $120.00 de la cuenta *5432.
              </li>
              <li class="list-group-item">
                ¡Te damos la bienvenida al Banco Colmenas!
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script\scriptDashboard.js"></script>
  </body>
</html>
